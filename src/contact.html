<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contact Us - Wispa Real Estate</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Header removed -->

    <main>
        <section class="contact">
            <h2>Contact Us</h2>
            <div class="contact-content">
                <div class="contact-info">
                    <h3>Get in Touch</h3>
                    <p><strong>Address:</strong> 123 Global Real Estate Street, London, UK</p>
                    <p><strong>Phone:</strong> +44 20 7946 0957</p>
                    <p><strong>Email:</strong> info@wisparealestate.com</p>
                    <p><strong>Hours:</strong> Mon-Fri 9AM-6PM, Sat 10AM-4PM</p>
                    <div class="map">
                        <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3269.123456789012!2d33.3666!3d35.1667!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x0%3A0x0!2zMzUuMTY2NywgMzMuMzY2Ng!5e0!3m2!1sen!2s!4v1234567890123!5m2!1sen!2s" width="100%" height="300" style="border:0;" allowfullscreen="" loading="lazy"></iframe>
                    </div>
                </div>
                <div class="contact-form">
                    <h3>Send us a Message</h3>
                    <form id="contact-form">
                        <label for="name">Name:</label>
                        <input type="text" id="name" name="name" required>

                        <label for="email">Email:</label>
                        <input type="email" id="email" name="email" required>

                        <label for="phone">Phone:</label>
                        <input type="tel" id="phone" name="phone">

                        <label for="subject">Subject:</label>
                        <select id="subject" name="subject">
                            <option value="general">General Inquiry</option>
                            <option value="sale">Property Sale</option>
                            <option value="rent">Property Rent</option>
                            <option value="investment">Investment</option>
                        </select>

                        <label for="message">Message:</label>
                        <textarea id="message" name="message" required></textarea>

                        <button type="submit">Send Message</button>
                    </form>
                </div>
            </div>
        </section>
    </main>

    <footer>
        <div class="footer-content">
            <div class="footer-section">
                <h3>Wispa Real Estate</h3>
                <p>Your trusted partner for property transactions worldwide.</p>
            </div>
            <div class="footer-section">
                <h3>Quick Links</h3>
                <ul>
                    <li><a href="about.html">About Us</a></li>
                    <li><a href="services.html">Services</a></li>
                    <li><a href="contact.html">Contact</a></li>
                </ul>
            </div>
            <div class="footer-section">
                <h3>Follow Us</h3>
                <p>Stay updated with the latest properties.</p>
                <div class="social-links">
                    <a href="#">Facebook</a> | <a href="#">Instagram</a> | <a href="#">Twitter</a>
                </div>
            </div>
        </div>
        <p>&copy; 2026 Wispa Real Estate. All rights reserved.</p>
    </footer>

    <script src="script.js"></script>
    <script>
        // Handle contact form submission
        document.getElementById('contact-form').addEventListener('submit', function(e) {
            e.preventDefault();

            const name = document.getElementById('name').value;
            const email = document.getElementById('email').value;
            const phone = document.getElementById('phone').value;
            const subject = document.getElementById('subject').value;
            const message = document.getElementById('message').value;

            // Try to POST to backend, fallback to localStorage
            const msgObj = { name, email, phone, subject, message, date: new Date().toISOString(), read: false };
            (async function(){
                try {
                    await fetch('/api/contact-messages', {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify(msgObj)
                    });
                    alert('Your message has been sent successfully! We will get back to you soon.');
                    document.getElementById('contact-form').reset();
                } catch(e) {
                    const contactMessages = JSON.parse(localStorage.getItem('contactMessages') || '[]');
                    contactMessages.push(msgObj);
                    localStorage.setItem('contactMessages', JSON.stringify(contactMessages));
                    alert('Your message has been saved locally (offline). It will be sent when the server is available.');
                    document.getElementById('contact-form').reset();
                }
            })();
        });
    </script>
</body>
</html>